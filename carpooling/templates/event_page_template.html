<!DOCTYPE html>
<!-- This site was created in Webflow. https://www.webflow.com -->
<!-- Last Published: Wed Oct 05 2022 17:13:44 GMT+0000 (Coordinated Universal Time) -->
<html data-wf-domain="sarahs-dandy-site.webflow.io" data-wf-page="633db6b20fc68522b30e41f4" data-wf-site="633db6b20fc685cfcc0e41e2">
<head>
    <meta charset="utf-8"/>
    <title>Mech Tech Dragons Events</title>
    <meta content="width=device-width, initial-scale=1" name="viewport"/>
    <meta content="Webflow" name="generator"/>
    <link href="{{ url_for('static', filename='events_style.css')}}" rel="stylesheet" type="text/css"/>
    <link href="{{ url_for('static', filename='carrdstyle.css')}}" rel="stylesheet" type="text/css"/>
    <link href="https://fonts.googleapis.com/css2?family=Fira+Sans:wght@300&display=swap" rel="stylesheet">
    <script src="https://ajax.googleapis.com/ajax/libs/webfont/1.6.26/webfont.js" type="text/javascript"></script>
    <script type="text/javascript">
    WebFont.load({
        google: {
            families: ["Poppins:100,200,300,regular,500,600,700,800,900", "Playfair Display:regular,italic,700,700italic,900,900italic"]
        }
    });
    </script>
    <!--[if lt IE 9]><script src="https://cdnjs.cloudflare.com/ajax/libs/html5shiv/3.7.3/html5shiv.min.js" type="text/javascript"></script><![endif]-->
    <script type="text/javascript">
    !function(o, c) {
        var n = c.documentElement,
            t = " w-mod-";
        n.className += t + "js",
        ("ontouchstart" in o || o.DocumentTouch && c instanceof DocumentTouch) && (n.className += t + "touch")
    }(window, document);
    </script>
    <link href="https://uploads-ssl.webflow.com/633db6b20fc685cfcc0e41e2/633db6b20fc685264c0e421e_q2.jpg" rel="shortcut icon" type="image/x-icon"/>
    <link href="https://uploads-ssl.webflow.com/633db6b20fc685cfcc0e41e2/633db6b20fc685d03d0e421d_q.jpg" rel="apple-touch-icon"/>
    <script type="text/javascript">
    window.__WEBFLOW_CURRENCY_SETTINGS = {
        "currencyCode": "USD",
        "$init": true,
        "symbol": "$",
        "decimal": ".",
        "fractionDigits": 2,
        "group": ",",
        "hideDecimalForWholeNumbers": false
    };
    </script>
</head>
<body class="body">
    <div class="page-content">
        <div class="topnav">
            <a href="{{ url_for('home_page') }}">Home</a>
            <a href="{{ url_for('events_page') }}">Events</a>
            {% if user.is_authenticated %}
            <a class="user-info" href = "{{ url_for('user_profile_page', user_id=user.id) }}">{{ user.first_name.capitalize() }} {{user.last_name.capitalize()}}</a>
            <a class="user-info" onclick="confirm_logout(event)" href="{{ url_for('home_page', logout=True) }}">Logout</a>
            {% else %}
            <a class="user-info" href="{{ url_for('login_page') }}">Login</a>
            <a class="user-info" href="{{url_for('generic_register_page')}}">Register/Update</a>
            <a class="user-info" href="{{url_for('login_help_page')}}">Login Help</a>
            
            {% endif %}
          </div>
        </div>
        <div class="banner">
            <div class="banner-second">
                <div class="container center w-container">
                    <div class="align-center">
                        <h1 class="style1">
                            {{ event.event_name }}
                            <sup></sup>
                        </h1>
                        <h2 class="style2"> {{ event.get_description() }}</h2>
                        <h2 class="style2"> {{event.get_date()}} {{event.get_times()}}</h2>
                    </div>
                </div>
            </div>
        </div>
        <div class="wf-section">

        </div>
    </div> <!-- TODO make a multiline dialog box-->
    <div class="style1">
        {% for region in regions%}
        <div class="regiondiv" style="border-color:{{region.color}}">
            <h3 class="style2">{{region.name.capitalize()}} Region</h3>
            {% for carpool in region.get_carpools_in_event(event) %}
                {% if carpool.has_driver() %}
                <div class="style1">
                <p class="style2"> Ride with <a href= "{{url_for('driver_page', firstname=carpool.driver.first_name, lastname=carpool.driver.last_name )}}"> {{carpool.driver.first_name.capitalize()}} {{carpool.driver.last_name.capitalize()}}</a> </p>
                <ul id="buttons01" class="style1 buttons">
                    <li>
                {% for i in range(carpool.num_passengers) %}
                    {% if carpool.get_passenger_number_name(i) !='Open' %}
                    <a class="closedbutton n01">
                        <span class="label"> {{carpool.get_passenger_number_name(i)}} </span>
                    </a>
                    {% else %}
                    <a href="{{ url_for('passenger_carpool_signup_page', carpool_index = carpool.index)}}" class="button n01">
                        <span class="label">{{carpool.get_passenger_number_name(i)}} </span>
                        </a>
                    {% endif %}
                {% endfor %}
                    </li>
                </ul>

                <p class = "style2"> Dropoff Location: {{carpool.get_dropoff_location()}} </p>
                </div>

                {% else %}
                <br>
                <br>
                <div class="style1">
                    <ul class="style1 buttons">
                        <li>
                    <a href={{ url_for('driver_carpool_signup_page', carpool_index = carpool.index)}} onclick="confirm_valid_driver(event)" class="button n01">
                        <span class="label">Drive for this region!</span>
                    </a>
                        </li>
                    </ul>
                    
                </div>

                {% endif %}

            {% endfor %}
        </div>
        {% endfor %}
    </div>
    <!--[if lte IE 9]><script src="//cdnjs.cloudflare.com/ajax/libs/placeholders/3.0.2/placeholders.min.js"></script><![endif]-->

<script>
    function confirm_valid_driver(e) {
        if ("{{user.is_driver()}}" != "Yes") {
            alert("You are not registered as a driver, so you cannot sign up to drive.");
            e.preventDefault();
        }
    }
    function confirm_logout(e) {

        if (!confirm("Are you sure you want to logout?")) {
            e.preventDefault();
        }
    }
</script>
</body>

</html>

